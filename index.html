<!DOCTYPE html>
<html>
<head>
<title>Narrative Generator</title>
<style>
  body {
    font-family: sans-serif;
    line-height: 1.6;
    color: #333; /* Darker text color */
  }
  h1, h2 {
    color: #0056b3; /* Blue headings */
  }
  textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  button {
    background-color: #0056b3;
    color: white;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
  }
  #results p {
    margin: 5px 0;
  }
</style>
</head>
<body>
  <h1>Narrative Generator</h1>
  <textarea id="userInput" rows="4" cols="50"></textarea><br>
  <button onclick="handleUserInput()">Generate Narrative</button>
  <div id="narrativeOutput"></div>

  <h2>Protocol Search</h2>
  <input type="text" id="searchInput" placeholder="Enter keywords">
  <button id="searchButton">Search for Protocol</button>
  <div id="results"></div>

  <script type="module">
    import { handleUserInput } from './ui_logic.js';
    import { displayResults } from './js/ui.js';

    async function handleUserInput() {
      const userInput = document.getElementById('userInput').value;
      await handleUserInput(userInput);
    }

    const searchButton = document.getElementById('searchButton');
    const searchInput = document.getElementById('searchInput');
    searchButton.addEventListener('click', async () => {
      const keywords = searchInput.value;
      const protocols = await fetchProtocols(keywords);
      displayResults(protocols);
    });
  </script>
</body>
</html>